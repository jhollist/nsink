[{"path":[]},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement hollister.jeff@epa.gov. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://jhollist.github.io/nsink/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.0, available https://www.contributor-covenant.org/version/2/0/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to nsink","title":"Contributing to nsink","text":"outlines propose change nsink.","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to nsink","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to nsink","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to nsink","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"jhollist/nsink\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header).","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to nsink","text":"use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://jhollist.github.io/nsink/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to nsink","text":"Please note nsink project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"get-data","dir":"Articles","previous_headings":"","what":"Get data","title":"Introduction to `nsink`","text":"first step N-Sink process acquire data needed analysis. nsink package utilizes openly available data several U.S. Federal Government sources. dataset uses 12-digit HUC ID number select data download. first step identify HUC ID download data. identify HUC ID can use nsink_get_huc_id() function use 12-digit HUC name search HUCs. Matches returned data frame option return partial exact matches. HUC ID hand can now use nsink_get_data() function download required data. data publicly available sources 2022-03-09 authentication required access sources. HUC ID required users may specify path storing data well indicate whether download data already exist data directory. Also note, file archiver 7-zip required nsink_get_data() extract NHD Plus files. addition download data, function returns basic information download: HUC ID download location.","code":"# Get HUC ID - Palmer showing multiple matches nsink_get_huc_id(\"Palmer\") #> # A tibble: 22 × 3 #>    huc_12       huc_12_name                  state #>    <chr>        <chr>                        <chr> #>  1 041503050403 Palmer Brook-Raquettte River NY    #>  2 102100090205 City of Palmer-Loup River    NE    #>  3 103001011203 Upper Palmer Creek           MO    #>  4 103001011204 Palmer Creek-Missouri River  MO    #>  5 101402010405 Palmer Creek-Lone Tree Creek NE    #>  6 171003090201 Palmer Creek-Applegate River OR    #>  7 170900080702 Palmer Creek                 OR    #>  8 170200070402 Palmer Lake                  WA    #>  9 111401010805 Palmer Lake-Red River        OK,TX #> 10 071200061003 Palmer Creek-Fox River       WI    #> # … with 12 more rows # The Niantic niantic_huc_id <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_huc_id #> [1] \"011000030304\" # Get data for selected HUC niantic_download <- nsink_get_data(niantic_huc_id,                                     data_dir = \"nsink_niantic_data\") niantic_download #> $huc #> [1] \"011000030304\" #>  #> $data_dir #> [1] \"C:/Users/JHollist/OneDrive - Environmental Protection Agency (EPA)/projects/nsink/nsink_niantic_data/\""},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"prepare-the-data","dir":"Articles","previous_headings":"","what":"Prepare the data","title":"Introduction to `nsink`","text":"data downloaded several additional data processing steps required subset data just HUC set data common coordinate reference system (CRS). include: filter HUC boundary mask data sets HUC boundary convert columns names lower case create new columns harmonize raster extents set data common CRS nsink_prep_data() function complete processing steps. requires HUC ID, specified CRS, path data directory. returns list required data subsequent N-Sink analyses. quick note CRS. near future, preferred way specify CRS values either Well-Known Text (WKT) EPSG Codes. Proj.4 strings eventually deprecated. Currently packages nsink relies different stages implementing changes PROJ. nsink currently works options, Proj.4 strings recomended. vignette shows examples EPSG codes.","code":"# EPSG for CONUS Albers Equal Area aea <- 5072  # Prep data for selected HUC niantic_data <- nsink_prep_data(niantic_huc_id, projection = aea,                  data_dir = \"nsink_niantic_data\")"},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"calculate-removal","dir":"Articles","previous_headings":"","what":"Calculate removal","title":"Introduction to `nsink`","text":"next step N-Sink process calculate relative nitrogen removal. Details nitrogen removal estimates calculated available Kellogg et al. (2010). nsink_calc_removal() function takes prepared data input returns list three items: raster_method: item contains raster based approach calculating removal. Used static maps removal. land_removal: represents land based nitrogen removal hydric soils areas impervious surface removed. network_removal: contains removal along NHD Plus flow network. Removal calculated separately streams waterbodies (e.g. lakes reservoirs).","code":"# Calculate removal from prepped data niantic_removal <- nsink_calc_removal(niantic_data)"},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"generate-and-summarize-flowpaths","dir":"Articles","previous_headings":"","what":"Generate and summarize flowpaths","title":"Introduction to `nsink`","text":"useful part N-Sink approach ability summarize removal along length specified flowpath. nsink package provides two functions facilitate process. nsink_generate_flowpath() function takes point location sf object prepped data (generated nsink_prep_data()) input returns sf LINESTRING flowpath starting input point location terminating furthest downstream location input NHD Plus. flowpath land generated flow direction grid. flowpath intersects stream network, flow determined flow along NHD Plus stream network. First, create sf POINT object. may also determine point location interactively plotting data using locator() function . First create simple plot. map made, can use interactively select location use x y create sf POINT object. point identified, can use starting location flowpath. returned value flowpath_ends, portion flowpath land created using flow direction grid, flowpath_network portion flowpath NHD Plus network occur upstream flowpath_ends intersect network. flowpath generated can summarize relative nitrogen removal along flowpath nsink_summarize_flowpath() function. takes flowpath removal input. data frame returned segment identified type, percent removal associated segment, relative removal. Total relative removal 100 - minimum n_out column.","code":"# Load up the sf package library(sf) # Starting point pt <- c(1948121, 2295822) start_loc <- st_sf(st_sfc(st_point(c(pt)), crs = aea)) # Create a simple plot plot(st_geometry(niantic_data$huc)) plot(st_geometry(niantic_data$lakes), add = T, col = \"darkblue\") plot(st_geometry(niantic_data$streams), add = T, col = \"blue\") # Select location on map for starting point pt <- unlist(locator(n = 1)) # convert to sf POINT start_loc_inter <- st_sf(st_sfc(st_point(pt), crs = aea)) niantic_fp <- nsink_generate_flowpath(start_loc, niantic_data) niantic_fp #> $flowpath_ends #> Simple feature collection with 2 features and 0 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: 1948003 ymin: 2281809 xmax: 1958233 ymax: 2296449 #> CRS:           +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #>                          fp_ends #> 1 LINESTRING (1948123 2295819... #> 2 LINESTRING (1957513 2283579... #>  #> $flowpath_network #> Simple feature collection with 30 features and 18 fields #> Geometry type: LINESTRING #> Dimension:     XY #> Bounding box:  xmin: 1949097 ymin: 2283213 xmax: 1957637 ymax: 2296345 #> CRS:           +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs #> First 10 features: #>    stream_comid      fdate resolution gnis_id     gnis_name lengthkm #> 1       6170640 2008-07-17     Medium  208394 Latimer Brook    0.658 #> 2       6170090 1999-09-06     Medium  208394 Latimer Brook    0.130 #> 3       6170644 2008-07-17     Medium  208394 Latimer Brook    0.307 #> 4       6170096 1999-09-06     Medium  208394 Latimer Brook    1.241 #> 5       6170966 2008-07-17     Medium  208394 Latimer Brook    0.148 #> 6       6170652 2008-07-17     Medium  208394 Latimer Brook    0.169 #> 7       6170100 1999-09-06     Medium  208394 Latimer Brook    0.071 #> 8       6170658 2008-07-17     Medium  208394 Latimer Brook    0.268 #> 9       6170664 2008-07-17     Medium  208394 Latimer Brook    0.290 #> 10      6170122 1999-09-06     Medium  208394 Latimer Brook    1.212 #>         reachcode        flowdir lake_comid          ftype fcode  shape_leng #> 1  01100003000098 With Digitized    6169112 ArtificialPath 55800 0.006702425 #> 2  01100003000097 With Digitized          0    StreamRiver 46006 0.001281976 #> 3  01100003000097 With Digitized    6169134 ArtificialPath 55800 0.003591168 #> 4  01100003000097 With Digitized          0    StreamRiver 46006 0.013000742 #> 5  01100003000097 With Digitized    6169152 ArtificialPath 55800 0.001734513 #> 6  01100003000096 With Digitized    6169152 ArtificialPath 55800 0.001765153 #> 7  01100003000096 With Digitized          0    StreamRiver 46006 0.000853676 #> 8  01100003000796 With Digitized    6169150 ArtificialPath 55800 0.002886813 #> 9  01100003000797 With Digitized    6169150 ArtificialPath 55800 0.002836633 #> 10 01100003000094 With Digitized          0    StreamRiver 46006 0.012087397 #>    enabled gnis_nbr        totma  fromnode    tonode stream_order #> 1     True        0 257.19887393 150029595 150029459            1 #> 2     True        0   0.01071115 150029459 150029597            1 #> 3     True        0  12.68401556 150029597 150029461            1 #> 4     True        0   0.05086744 150029461 150029733            1 #> 5     True        0   1.29543583 150029733 150029601            1 #> 6     True        0   1.47924767 150029601 150029463            2 #> 7     True        0   0.00302952 150029463 150029604            2 #> 8     True        0   8.76143527 150029604 150029607            2 #> 9     True        0   9.48065757 150029607 150029468            2 #> 10    True        0   0.05996156 150029468 150029471            2 #>                          geometry #> 1  LINESTRING (1949097 2296345... #> 2  LINESTRING (1949129 2296257... #> 3  LINESTRING (1949211 2296168... #> 4  LINESTRING (1949488 2296233... #> 5  LINESTRING (1950416 2295753... #> 6  LINESTRING (1950556 2295764... #> 7  LINESTRING (1950689 2295680... #> 8  LINESTRING (1950756 2295705... #> 9  LINESTRING (1950974 2295603... #> 10 LINESTRING (1950975 2295347... niantic_fp_removal <- nsink_summarize_flowpath(niantic_fp, niantic_removal) niantic_fp_removal 100-min(niantic_fp_removal$n_out) #> # A tibble: 26 × 5 #>    segment_type length percent_removal  n_in n_out #>    <chr>         <dbl>           <dbl> <dbl> <dbl> #>  1 Hydric          154           2.56  100    97.4 #>  2 No Removal     1418           0      97.4  97.4 #>  3 Lake/Pond       658          54.8    97.4  44   #>  4 Stream          130           0.014  44    44   #>  5 Lake/Pond       307          18.8    44    35.7 #>  6 Stream         1241           0.051  35.7  35.7 #>  7 Lake/Pond       317           6.71   35.7  33.3 #>  8 Stream           71           0.003  33.3  33.3 #>  9 Lake/Pond       558          34.1    33.3  22   #> 10 Stream         1212           0.039  22    22   #> # … with 16 more rows #> [1] 86.9"},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"static-maps","dir":"Articles","previous_headings":"","what":"Static maps","title":"Introduction to `nsink`","text":"Individual flow paths useful specific applications, often useful look removal patterns across landscape. nsink_generate_static_maps() function provides HUC wide rasters. Required inputs prepped data, removal raster, sampling density. function returns four separate rasters. removal_effic: Landscape wide estimate relative nitrogen removal percentage. loading_idx: index relative nitrogen loads land cover class derived published sources transport_idx: Relative nitrogen transport sample possible flowpaths given HUC. expensive computational task, nsink generates removal hotspot map based sample flowpaths final hotspot map interpolated samples referred nitrogen transport index. samp_density argument controls number sample flowpaths generated. delivery_idx: delivery index combination loading index transport index represents areas landscape delivering nitrogen outflow watershed. static maps made, can plot quickly nsink_plot() sepcifying plot like see map argument can “removal”, “transport”, “delivery”. example nsink_plot() .","code":"niantic_static_maps <- nsink_generate_static_maps(niantic_data, niantic_removal,                                                    900) nsink_plot(niantic_static_maps, \"transport\")"},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"convenience-function-build-it-all","dir":"Articles","previous_headings":"","what":"Convenience function: Build it all!","title":"Introduction to `nsink`","text":"workflow described includes basic functionality. users may wish use nsink calculate base layers N-Sink analysis build application outside R. convenience function downloads data, prepares, calculates removal, generates static maps included facilitate type analysis. nsink_build() function requires HUC ID, coordinate reference system, sampling density. output folder also needed default location. Optional arguments forcing new download playing sound signal build finished. Nothing returns R, prepped data files .tif files written output folder use applications.","code":"niantic_huc_id <- nsink_get_huc_id(\"Niantic River\")$huc_12 aea <- 5072 nsink_build(niantic_huc_id, aea, samp_dens = 900)"},{"path":"https://jhollist.github.io/nsink/articles/intro.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction to `nsink`","text":"Alexander, R. B., E. W. Boyer, R. . Smith, G. E. Schwarz, R. B. Moore. 2007. role headwater streams downstream water quality 1. JAWRA Journal American Water Resources Association 43:41–59. Kellogg, D., . J. Gold, S. Cox, K. Addy, P. V. August. 2010. geospatial approach assessing denitrification sinks within lower-order catchments. Ecological Engineering 36:1596–1606. Mayer, P. M., S. K. Reynolds, M. D. McCutchen, T. J. Canfield. 2007. Meta-analysis nitrogen removal riparian buffers. Journal environmental quality 36:1172–1180. Seitzinger, S., J. . Harrison, J. Böhlke, . Bouwman, R. Lowrance, B. Peterson, C. Tobias, G. V. Drecht. 2006. Denitrification across landscapes waterscapes: synthesis. Ecological applications 16:2064–2090.","code":""},{"path":"https://jhollist.github.io/nsink/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jeffrey Hollister. Author, maintainer. Dorothy Kellogg. Author. Qian Lei-Parent. Author. Chester Arnold. Contributor. Arthur Gold. Contributor. Emily Wilson. Contributor. Cary Chadwick. Contributor. David Dickson. Contributor. Kenneth Forshay. Funder.","code":""},{"path":"https://jhollist.github.io/nsink/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hollister J, Kellogg D, Lei-Parent Q (2022). nsink: Flow path nitrogen removal estimation. https://github.com/USEPA/nsink, https://jhollist.github.io/nsink/.","code":"@Manual{,   title = {nsink: Flow path nitrogen removal estimation},   author = {Jeffrey Hollister and Dorothy Kellogg and Qian Lei-Parent},   year = {2022},   note = {https://github.com/USEPA/nsink, https://jhollist.github.io/nsink/}, }"},{"path":[]},{"path":"https://jhollist.github.io/nsink/index.html","id":"statement-of-need","dir":"","previous_headings":"","what":"Statement of need","title":"Flow path nitrogen removal estimation","text":"nsink package R implementation methods described Kellogg et. al (2010). Previous implementation approach relied manual, vector based approach time consuming prepare. approach uses hybrid raster-vector approach takes relatively little time set new watershed relies readily available data. Total run times vary, range minutes 5 hours depending options selected. Previous versions took weeks manual data manipulation. Thus, nsink developed satisfy need quicker implementation NSink method described Kellogg et. al (2010).","code":""},{"path":"https://jhollist.github.io/nsink/index.html","id":"nsink-functionality","dir":"","previous_headings":"","what":"nsink functionality","title":"Flow path nitrogen removal estimation","text":"2022-03-09 user functions nsink package : nsink_get_huc_id(): function searching name USGS Watershed Boundary Dataset Hydrologic Unit (https://www.usgs.gov/core-science-systems/ngp/national-hydrography/watershed-boundary-dataset) retrieving 12-digit Hydrologic Unit Code (HUC). nsink_get_data(): Using acceptable HUC ID (e.g. 2-digit 12-digit), function downloads NHDPlus, SSURGO, NLCD Land Cover, NLCD Impervious HUC. nsink_prep_data(): nsink needs data common coordinate reference system, mutliple NHDPlus tables, different portions SSURGO. function completes data preparation steps outputs data, clipped HUC boundary. nsink_calc_removal(): Quantifying relative N removal across landscape key aspects nsink analysis. nsink_calc_removal() function takes object returned nsink_prep_data() calculates relative N removal landscape sink. See Kellogg et al [-@kellogg2010geospatial] details relative N removal estimation sink. nsink_generate_flowpath(): function uses combination flow determined topography, via flow-direction raster, land-based portions flow path downstream flow along NHDPlus stream network. nsink_summarize_flowpath(): Summarizing removal along specified flow path requires relative N removal generated flow path. function uses returns summary relative N removal along flow path sink. nsink_generate_static_maps(): function analyzes N removal watershed scale summarizing results multiple flow paths. Four static maps returned: 1)removal efficiency; 2)loading index; 3)transport index; 4)delivery index. Removal efficiency rasterized version nsink_calc_removal() output. Loading index N sources based NLCD categories. Transport index heat map cumulative relative N removal along flow paths originating grid points, density set user, across watershed, highlighting gradient downstream N retention. Delivery index result multiplying loading index transport index, shows potential N delivery different sources, taking account relative N removal water moves downstream. nsink_plot(): function plots raster list returned nsink_generate_static_maps(). nsink_build(): One drivers behind development nsink package provide n-sink analysis output used broadly (e.g. within GIS). nsink_build() runs complete nsink analysis outputs R objects, shapefiles /TIFFs. nsink_load(): Essentially inverse nsink_build() function, function takes folder files, likely created nsink_build(), reads R.","code":""},{"path":"https://jhollist.github.io/nsink/index.html","id":"installation-instructions","dir":"","previous_headings":"","what":"Installation instructions","title":"Flow path nitrogen removal estimation","text":"time plan maintaining nsink package GitHub package thus won’t available directly CRAN. may use install_github() function remotes package install . code take care installing remotes installing nsink GitHub repository. load package:","code":"install.packages(\"remotes\") remotes::install_github(\"usepa/nsink\", dependencies = TRUE, build_vignettes = TRUE) library(nsink)"},{"path":"https://jhollist.github.io/nsink/index.html","id":"documentation-and-examples","dir":"","previous_headings":"","what":"Documentation and examples","title":"Flow path nitrogen removal estimation","text":"functions documented, examples, documentation may accessed, R, via usual help functions. Additionally, introduction nsink package detailed workflow documented vignette.","code":"# Load up package library(nsink)  # Access package level help help(package = \"nsink\")  # Access the Introduction to nsink vignette vignette(\"intro\", package = \"nsink\")"},{"path":"https://jhollist.github.io/nsink/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Flow path nitrogen removal estimation","text":"like contribute nsink package, please first read CONTRIBUTING. short, contributions happily accepted either via suggestions Issues via pull request.","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":null,"dir":"","previous_headings":"","what":"Summary","title":"Summary","text":"nsink package estimates cumulative nitrogen (N) removal along specified flow path based methodologies outlined Kellogg et al. [ -@kellogg2010geospatial]. user-specified watershed (.e., hydrologic unit code (HUC)), nsink downloads required datasets public datasets United States, prepares data use, summarizes N removal along flow path creates several static maps. results nsink analysis may exported standard geospatial files use applications.","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":"statement-of-need","dir":"","previous_headings":"","what":"Statement of need","title":"Summary","text":"Excess N delivery via surface water downstream aquatic resources contributes impaired water quality impacts ecosystem services including harmful algal blooms (HABs) hypoxia [@rabalais2002beyond]. Identifying landscape N sinks (.e., areas N effectively removed aquatic system) analyzing N delivery watershed scale helpful watershed managers, land use planners conservation organizations. theoretical underpinnings identifying N sinks rely decades research explained Kellogg et al. [-@kellogg2010geospatial]. Prior N-sink implementations done case--case. Data acquisition manipulation mostly manual took weeks months complete single 12-digit HUC. effort required analysis limited ’s application scaling beyond pilot studies feasible. goal nsink address limitation provide open source solution run single small watershed (e.g., 12-digit HUC) minutes hours minimal manual input.","code":""},{"path":[]},{"path":"https://jhollist.github.io/nsink/paper.html","id":"package-installation","dir":"","previous_headings":"","what":"Package Installation","title":"Summary","text":"nsink package available https://github.com/usepa/nsink may installed R following:","code":"# If not installed, install remotes install.packages(\"remotes\")  # Install nsink from GitHub remotes::install_github(\"USEPA/nsink\", dependencies = TRUE, build_vignettes = TRUE)"},{"path":"https://jhollist.github.io/nsink/paper.html","id":"package-details","dir":"","previous_headings":"","what":"Package Details","title":"Summary","text":"nsink package designed around major steps running N-Sink analysis includes functions following tasks: Get data Prepare data analysis Calculate relative N removal layer hydric soils, lakes streams. Calculate flow path Summarize relative N removal along flow path Develop static maps Generate output datasets","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":"required-data","dir":"","previous_headings":"Package Details","what":"Required Data","title":"Summary","text":"ability run nsink analysis relies several datasets conterminous United States. limiting approach national datasets ensuring scalability nsink datasets available locations United States. datasets nsink uses National Hydrography Dataset Plus version 2 (NHDPlus), Soil Survey Geographic Database (SSURGO), National Land Cover Dataset (NLCD) land cover, National Land Cover Dataset (NLCD) impervious surface [@moore2019user; @soil2017web; @jin2019overall]. datasets available via Application Programming Interface (API) via direct download.","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":"dependencies","dir":"","previous_headings":"Package Details","what":"Dependencies","title":"Summary","text":"nsink package depends several existing R packages facilitate spatial data handling, data acquisition, data management, data analysis data processing. detailed Table 1. Table 1. R package dependencies nsink package","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":"functionality","dir":"","previous_headings":"Package Details","what":"Functionality","title":"Summary","text":"Currently, nsink provides 10 exported functions facilitate flow path analysis relative N removal. nsink repository (https://github.com/usepa/nsink) R package documentation contain detailed documentation function. pacakge also vignette outlines typical workflow running N-Sink analysis nsink package. Upon install, vignette accessed R vignette(\"intro\", package = \"nsink\").","code":""},{"path":"https://jhollist.github.io/nsink/paper.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Summary","text":"Many people contributed various ways development N-Sink concept. particular, like thank, Chet Arnold, Cary Chadwick, David Dickson, Emily Wilson University Connecticut’s Center Land Use Education Research well Peter August, Chris Damon, Art Gold University Rhode Island’s Department Natural Resources Science. UCONN URI crews contributed tremendously development N-Sink concept. Additionally, grateful Stephen Shivers, Michael Dumelle, Justin Bousquin, Joe LiVolsi, Tim Gleason, Wayne Munns constructive early reviews paper. Lastly, Ken Forshay US EPA’s Center Environmental Solutions Emergency Response deserves thanks shepherding development N-Sink many years. views expressed article authors necessarily represent views policies U.S. Environmental Protection Agency. mention trade names, products, services imply endorsement U.S. Government U.S. Environmental Protection Agency. EPA endorse commercial products, services, enterprises. contribution identified tracking number ORD-044618 Atlantic Coastal Environmental Sciences Division, Office Research Development, Center Environmental Measurement Modeling, US Environmental Protection Agency.","code":""},{"path":[]},{"path":"https://jhollist.github.io/nsink/reference/get_nhd_plus.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to download nhd files — get_nhd_plus","title":"Function to download nhd files — get_nhd_plus","text":"Function download nhd files","code":""},{"path":"https://jhollist.github.io/nsink/reference/get_nhd_plus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to download nhd files — get_nhd_plus","text":"","code":"get_nhd_plus(   download_url,   data_dir = normalizePath(\"nsink_data/\", winslash = \"/\"),   download_again = FALSE )"},{"path":"https://jhollist.github.io/nsink/reference/get_nhd_plus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to download nhd files — get_nhd_plus","text":"download_url url download data_dir data dir force Force new download","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink.html","id":null,"dir":"Reference","previous_headings":"","what":"nsink: A package that implements flow path analysis of nitrogen removal — nsink","title":"nsink: A package that implements flow path analysis of nitrogen removal — nsink","text":"N-Sink approach based research outlined Kellogg et al (2010). approach builds peer-reviewed literature form reviews meta-analyses (.e., Mayer et al (2007), Alexander et al (2007), Seitzinger et al (2006)) estimate nitrogen (N) removal within three types landscape sinks -- wetlands, streams lakes -- along given flow path within HUC12 basin. nsink package implements approach, using publicly available spatial data identify flow paths estimate N removal landscape sinks. Removal rates depend retention time, influenced physical characteristics identified using publicly available spatial data -- National Hydrography Dataset (NHD), Watershed Boundary Dataset (WBD), National Land Cover Dataset (NLCD), Soil Survey Geographic Dataset (SSURGO). Static maps specified HUC-12 basin generated -- N Removal Efficiency, N Loading Index, N Transport Index, N Delivery Index. maps may used inform local decision-making highlighting areas prone N \"leakiness\" areas contribute N removal.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"nsink: A package that implements flow path analysis of nitrogen removal — nsink","text":"Kellogg, D. Q., Gold, . J., Cox, S., Addy, K., & August, P. V.             (2010). geospatial approach assessing denitrification sinks             within lower-order catchments. Ecological Engineering, 36(11),             1596-1606.             Link Mayer, P. M., Reynolds Jr., S. K., McCutchen, M. D., & Canfield, T. J.             (2007). Meta-analysis nitrogen removal riparian buffers.             J. Environ. Qual. 36, 1172-1180.             Link Alexander, R. B., Boyer, E. W., Smith, R.., Schwarz, G.E. & Moore, R. B.             (2007). role headwater streams downstream water quality.             J. . Water Resou.Assoc. 43, 41-59.             Link Seitzinger, S. P., Harrison, J.., Hohlke, J.K., Bouwman, .F., Lowrance, R.,             Peterson, B., Tobias, C., & Van Drecht, G. (2006). Denitrification across             landscapes waterscapes: synthesis. Ecol. Appl. 16, 1064-2090.             Link","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_build.html","id":null,"dir":"Reference","previous_headings":"","what":"Build out required datasets for N-Sink — nsink_build","title":"Build out required datasets for N-Sink — nsink_build","text":"function wrapper around functions runs required build full dataset needed huc develops four static N-Sink maps: nitrogen loading index, nitrogen removal effeciency, nitrogen transport index, nitrogen delivery index.  primary purpose use nsink package develop required datasets nsink application built outside R (e.g. ArcGIS).  take time complete downloading 500-600 Mb data, processing data creating output files.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_build.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build out required datasets for N-Sink — nsink_build","text":"","code":"nsink_build(   huc,   projection,   output_dir = normalizePath(\"nsink_output\", winslash = \"/\"),   data_dir = normalizePath(\"nsink_data\", winslash = \"/\"),   force = FALSE,   samp_dens = 300,   year = \"2016\",   ... )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_build.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build out required datasets for N-Sink — nsink_build","text":"huc character 12 digit HUC ID.  May searched nsink_get_huc_id projection Projection use spatial data, specified either EPSG code (numeric) WKT (string). output_dir Folder write processed nsink files . Currently, processed files overwritten output folder used.  run different HUC12's specify separate output folders. data_dir Folder hold downloaded data.  data directory can used hold data multiple HUCs.  Data downloaded already exists folder. force Logical value used force new download data already exists file system. samp_dens samp_dens controls density points use creating nitrogen removal heat map.  area watershed sampled points separated samp_dens value, units input data. larger value, fewer points. year Year argument passed FedData's get_nlcd function. Defaults 2016. ... Passes nsink_calc_removal network arguments: off_network_lakes, off_network_streams, off_network_canalsditches.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_build.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build out required datasets for N-Sink — nsink_build","text":"list providing details huc used output location         dataset.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_build.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build out required datasets for N-Sink — nsink_build","text":"","code":"if (FALSE) { library(nsink) aea <- 5072 nsink_build(nsink_get_huc_id(\"Niantic River\")$huc_12, aea,             output_dir = \"nsink_output\", data_dir = \"nsink_data\",              samp_dens = 600) }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_lake_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates lake-based nitrogen removal — nsink_calc_lake_removal","title":"Calculates lake-based nitrogen removal — nsink_calc_lake_removal","text":"Calculates lake-based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_lake_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates lake-based nitrogen removal — nsink_calc_lake_removal","text":"","code":"nsink_calc_lake_removal(input_data)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_lake_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates lake-based nitrogen removal — nsink_calc_lake_removal","text":"input_data named list \"streams\", \"lakes\", \"tot\", \"lakemorpho\", \"raster_template\".","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_lake_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates lake-based nitrogen removal — nsink_calc_lake_removal","text":"Raster vector versions lake based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_land_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates land-based nitrogen removal — nsink_calc_land_removal","title":"Calculates land-based nitrogen removal — nsink_calc_land_removal","text":"Calculates land-based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_land_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates land-based nitrogen removal — nsink_calc_land_removal","text":"","code":"nsink_calc_land_removal(input_data)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_land_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates land-based nitrogen removal — nsink_calc_land_removal","text":"input_data named list \"ssurgo\", \"impervious\", \"lakes\", \"raster_template\".","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_land_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates land-based nitrogen removal — nsink_calc_land_removal","text":"List raster vector versions land based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_off_network_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates off network waterbody and stream nitrogen removal — nsink_calc_off_network_removal","title":"Calculates off network waterbody and stream nitrogen removal — nsink_calc_off_network_removal","text":"Calculates network waterbody stream nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_off_network_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates off network waterbody and stream nitrogen removal — nsink_calc_off_network_removal","text":"","code":"nsink_calc_off_network_removal(   input_data,   off_network_lakes,   off_network_streams,   off_network_canalsditches )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_off_network_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates off network waterbody and stream nitrogen removal — nsink_calc_off_network_removal","text":"input_data named list \"streams\", \"lakes\", \"network_removal\", \"tot\", \"raster_template\". off_network_lakes Optional argument set removal waterbodies part NHDPlus hydrologic network. Default value use 75th percentile removal lakes HUC.  another value desired provide single numeric ranging 0 1. off_network_streams Optional argument set removal streams part NHDPlus hydrologic network. Default value use median removal first order streams HUC.  another value desired provide single numeric ranging 0 1. off_network_canalsditches Optional argument set removal canals ditches part NHDPlus hydrologic network. Default value use 25th percentile removal third order streams HUC. another value desired provide single numeric ranging 0 1.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_off_network_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates off network waterbody and stream nitrogen removal — nsink_calc_off_network_removal","text":"Raster vectors network nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"Starting base data layers NHDPlus, SSURGO, impervious surface, flow velocity, time travel, function calculates percentage Nitrogen removal.  Nitrogen removal methods calculations Kellogg et al. (2010). function assumes data downloaded nsink_get_data prepared nsink_prep_data.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"","code":"nsink_calc_removal(   input_data,   off_network_lakes = NULL,   off_network_streams = NULL,   off_network_canalsditches = NULL )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"input_data list input datasets created nsink_prep_data. off_network_lakes Optional argument set removal waterbodies part NHDPlus hydrologic network. Default value use 75th percentile removal lakes HUC.  another value desired provide single numeric ranging 0 1. off_network_streams Optional argument set removal streams part NHDPlus hydrologic network. Default value use median removal first order streams HUC.  another value desired provide single numeric ranging 0 1. off_network_canalsditches Optional argument set removal canals ditches part NHDPlus hydrologic network. Default value use 25th percentile removal third order streams HUC. another value desired provide single numeric ranging 0 1.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"list three items, 1) raster stack one layer         nitrogen removal, second layer type removal (e.g.         hydric soils, lakes, streams), 2) polygon representing removal         land, 3) polygon representing removal stream network,         including stream removal, lake removal.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"Kellogg, D. Q., Gold, . J., Cox, S., Addy, K., & August, P. V.             (2010). geospatial approach assessing denitrification sinks             within lower-order catchments. Ecological Engineering, 36(11),             1596-1606.             Link","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculates N-Sink nitrogen removal percent — nsink_calc_removal","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_data <- nsink_get_data(niantic_huc, data_dir = \"nsink_data\") aea <- 5072 niantic_nsink_data <- nsink_prep_data(niantic_huc, projection = aea ,                                       data_dir = \"nsink_data\") removal <- nsink_calc_removal(niantic_nsink_data) }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Create removal type raster — nsink_calc_removal_type","title":"Create removal type raster — nsink_calc_removal_type","text":"Create removal type raster","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create removal type raster — nsink_calc_removal_type","text":"","code":"nsink_calc_removal_type(removal_rasters)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create removal type raster — nsink_calc_removal_type","text":"removal_rasters named list \"land_removal\", \"stream_removal\", \"lake_removal\", \"raster_template\" rasters plus sf object \"huc\".","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_removal_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create removal type raster — nsink_calc_removal_type","text":"Raster landscape nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_stream_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates stream-based nitrogen removal — nsink_calc_stream_removal","title":"Calculates stream-based nitrogen removal — nsink_calc_stream_removal","text":"Calculates stream-based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_stream_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates stream-based nitrogen removal — nsink_calc_stream_removal","text":"","code":"nsink_calc_stream_removal(input_data)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_stream_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates stream-based nitrogen removal — nsink_calc_stream_removal","text":"input_data named list \"streams\", \"q\", \"tot\", \"raster_template\".","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_calc_stream_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates stream-based nitrogen removal — nsink_calc_stream_removal","text":"Raster vector versions stream based nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_segment_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Create ID's for unique values in a vector — nsink_create_segment_ids","title":"Create ID's for unique values in a vector — nsink_create_segment_ids","text":"functions takes vector values creates unique ID adjacent identical values.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_segment_ids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create ID's for unique values in a vector — nsink_create_segment_ids","text":"","code":"nsink_create_segment_ids(x)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_segment_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create ID's for unique values in a vector — nsink_create_segment_ids","text":"x vector values create unique ID's","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_segment_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create ID's for unique values in a vector — nsink_create_segment_ids","text":"vector unique ID's","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a nitrogen removal summary — nsink_create_summary","title":"Create a nitrogen removal summary — nsink_create_summary","text":"functions takes nitrogen removal removal type data frame land flowpath network creates data frame summarizes removal along flowpath.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a nitrogen removal summary — nsink_create_summary","text":"","code":"nsink_create_summary(land_removal, network_removal)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a nitrogen removal summary — nsink_create_summary","text":"land_removal data frame land based nitrogen removal via generated flowpath hydric removal raster. network_removal data frame stream network nitrogen removal via calculated stream lake removal.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_create_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a nitrogen removal summary — nsink_create_summary","text":"data frame summarizing nitrogen removal along flowpath","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_fix_data_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix the data directory — nsink_fix_data_directory","title":"Fix the data directory — nsink_fix_data_directory","text":"function takes data directory checks existence, creates exist, adds trailing slash normalizes path operating system","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_fix_data_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix the data directory — nsink_fix_data_directory","text":"","code":"nsink_fix_data_directory(data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_fix_data_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fix the data directory — nsink_fix_data_directory","text":"data_dir data directory","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_fix_data_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fix the data directory — nsink_fix_data_directory","text":"string normalized path","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_flowpath.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","title":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","text":"function takes XY location starting point generates flowpath use N-Sink nitrogen removal analysis. flowpath combination flow direction derived flowpath land plus NHDPlus derived stream-reach flowpath.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_flowpath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","text":"","code":"nsink_generate_flowpath(starting_location, input_data)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_flowpath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","text":"starting_location sf point location starting point flowpath.  Projection must match projection input_data. input_data list input data (least) \"fdr\", \"streams\", \"tot\", \"raster_template\". may generated nsink_prep_data.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_flowpath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","text":"sf LINESTRING object flowpath starts         starting_location ends ouflow HUC.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_flowpath.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate and clean a flowpath for N-Sink — nsink_generate_flowpath","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_data <- nsink_get_data(niantic_huc, data_dir = \"nsink_data\") aea <- 5072 niantic_nsink_data <- nsink_prep_data(niantic_huc, projection = aea,                                       data_dir = \"nsink_niantic_data\") pt <- c(1948121, 2295822) start_loc <- st_sf(st_sfc(st_point(c(pt)), crs = aea)) fp <- nsink_generate_flowpath(start_loc, niantic_nsink_data) }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_from_to_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"nsink generate from land to nodes — nsink_generate_from_to_nodes","title":"nsink generate from land to nodes — nsink_generate_from_to_nodes","text":"Code borrowed https://www.r-spatial.org/r/2019/09/26/spatial-networks.html","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_from_to_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"nsink generate from land to nodes — nsink_generate_from_to_nodes","text":"","code":"nsink_generate_from_to_nodes(land_off_network)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_from_to_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"nsink generate from land to nodes — nsink_generate_from_to_nodes","text":"land_off_network land network path","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_loading_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Generates the Nitrogen Loading Index — nsink_generate_n_loading_index","title":"Generates the Nitrogen Loading Index — nsink_generate_n_loading_index","text":"function reclassifies NLCD data index Nitrogen loading. index ranges 0 1.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_loading_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generates the Nitrogen Loading Index — nsink_generate_n_loading_index","text":"","code":"nsink_generate_n_loading_index(input_data)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_loading_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generates the Nitrogen Loading Index — nsink_generate_n_loading_index","text":"input_data List input data","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_removal_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Nitrogen Removal Heatmap — nsink_generate_n_removal_heatmap","title":"Generate Nitrogen Removal Heatmap — nsink_generate_n_removal_heatmap","text":"Generates heatmap.  flowpaths one segment completely contained within HUC included. Practically, remove flowpaths intersect stream network extend beyond HUC.  rare.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_removal_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Nitrogen Removal Heatmap — nsink_generate_n_removal_heatmap","text":"","code":"nsink_generate_n_removal_heatmap(   input_data,   removal,   samp_dens,   ncpu = future::availableCores() - 1,   seed = 23 )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_n_removal_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Nitrogen Removal Heatmap — nsink_generate_n_removal_heatmap","text":"input_data list input datasets created nsink_prep_data. removal removal raster stack removal list, generated nsink_calc_removal samp_dens value, units input data, divided total area input HUC.  used determine number points, determined regular sample, calculate removal.  instance, value 90 roughly equate point per every 90 meters. ncpu Number CPUs use calculating flowpath removal larger (.e. greater 50) number flowpaths.  Default number cores available minus one. seed Random seed ensure reproducibility sample point creation across runs.  Default set 23.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_static_maps.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","title":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","text":"Generate N-Sink Static Maps given HUC","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_static_maps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","text":"","code":"nsink_generate_static_maps(   input_data,   removal,   samp_dens,   ncpu = future::availableCores() - 1,   seed = 23 )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_static_maps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","text":"input_data list input datasets created nsink_prep_data. removal removal raster stack removal list, generated nsink_calc_removal samp_dens value, units input data, divided total area input HUC.  used determine number points, determined regular sample, calculate removal.  instance, value 90 roughly equate point per every 90 meters. ncpu Number CPUs use calculating flowpath removal larger (.e. greater 50) number flowpaths.  Default number cores available minus one. seed Random seed ensure reproducibility sample point creation transport maps. Default set 23.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_static_maps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","text":"function returns list rasters: nitrogen removal efficiency,         nitrogen loading index, nitrogen transport index,         nitrogen delivery index.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_generate_static_maps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate N-Sink Static Maps for a given HUC — nsink_generate_static_maps","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_data <- nsink_get_data(niantic_huc, data_dir = \"nsink_data\") aea <- 5072 niantic_nsink_data <- nsink_prep_data(niantic_huc, projection = aea,                                       data_dir = \"nsink_data\") removal <- nsink_calc_removal(niantic_nsink_data) static_maps <- nsink_generate_static_maps(niantic_nsink_data, removal,samp_dens = 900) }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest.html","id":null,"dir":"Reference","previous_headings":"","what":"Get closest — nsink_get_closest","title":"Get closest — nsink_get_closest","text":"function return index one vector closest, absolute values, values another vector.  Usually used identify closest lake stream, area length respectively, another lake stream.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get closest — nsink_get_closest","text":"","code":"nsink_get_closest(v1, v2)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get closest — nsink_get_closest","text":"v1 first vector values, likely length area feature v2 second vector values, also likely length area feature.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get closest — nsink_get_closest","text":"Returns vector, length v1, index v2 closest         absolute value value v1.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest_lt.html","id":null,"dir":"Reference","previous_headings":"","what":"Get closest, but less than — nsink_get_closest_lt","title":"Get closest, but less than — nsink_get_closest_lt","text":"function return index one vector closest less , absolute values, values another vector.  value v1 less values v2, just next closest returned. Usually used identify closest lake stream, area length respectively, another lake stream.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest_lt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get closest, but less than — nsink_get_closest_lt","text":"","code":"nsink_get_closest_lt(v1, v2)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest_lt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get closest, but less than — nsink_get_closest_lt","text":"v1 first vector values, likely length area feature v2 second vector values, also likely length area feature.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_closest_lt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get closest, but less than — nsink_get_closest_lt","text":"Returns vector, length v1, index v2 less          closest absolute value value v1.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets N-Sink data for a given HUC — nsink_get_data","title":"Gets N-Sink data for a given HUC — nsink_get_data","text":"required datasets N-sink analysis available multiple, online resources.  function takes HUC input downloads local copies datasets.  place local directory inside directory new folder NHD Plus raster processing unit created.  use folder data directory, act cache (imperfect, though) download new datasets already downloaded.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets N-Sink data for a given HUC — nsink_get_data","text":"","code":"nsink_get_data(   huc,   data_dir = normalizePath(\"nsink_data\", winslash = \"/\"),   force = FALSE,   year = \"2016\" )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets N-Sink data for a given HUC — nsink_get_data","text":"huc character string HUC identifier.  Currently can run single HUC time.  package developed using 12-digit HUCS, (lightly) tested larger HUCs appears work, certain cases. data_dir directory store N-Sink data downloads.  Defaults \"nsink_data\" inside current working directory. Created exist.  May used multiple HUCs data currently exist downloaded. force Logical determine files downloaded already exist locally. year argument passed FedData's get_nlcd function. Default 2016.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets N-Sink data for a given HUC — nsink_get_data","text":"Returns list huc used directory data         stored.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets N-Sink data for a given HUC — nsink_get_data","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 nsink_get_data(huc = niantic_huc, data_dir = \"nsink_data\", force = TRUE) }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowline.html","id":null,"dir":"Reference","previous_headings":"","what":"Get flowlines that intersect with a flowpath — nsink_get_flowline","title":"Get flowlines that intersect with a flowpath — nsink_get_flowline","text":"Extract flowlines intersect flowpath ends.  uses actual flowlines part flowpath instead simply using raster derived flowpaths follow flowlines exactly.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get flowlines that intersect with a flowpath — nsink_get_flowline","text":"","code":"nsink_get_flowline(flowpath_ends, streams, tot)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get flowlines that intersect with a flowpath — nsink_get_flowline","text":"flowpath_ends sf LINESTRING flowpath ends, generated nsink_get_flowpath_ends streams NHDPlus streams nsink_prep_data tot NHDPlus time travel nsink_prep_data provides nodes.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get flowlines that intersect with a flowpath — nsink_get_flowline","text":"sf object NHDPlus flowlines occur         raster flowpath intersects stream network.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowpath_ends.html","id":null,"dir":"Reference","previous_headings":"","what":"Get flowpath beginning and ends — nsink_get_flowpath_ends","title":"Get flowpath beginning and ends — nsink_get_flowpath_ends","text":"Flowpath land portion needs generated flow direction grid.  function extracts portions generated flowpath.  may issues network waterbodies...  May need find sections without connected flowpaths...","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowpath_ends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get flowpath beginning and ends — nsink_get_flowpath_ends","text":"","code":"nsink_get_flowpath_ends(flowpath, streams, tot)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowpath_ends.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get flowpath beginning and ends — nsink_get_flowpath_ends","text":"flowpath sf LINESTRING flowpath, generated nsink_generate_flowpath streams NHDPlus streams nsink_prep_data tot NHDPlus time travel nsink_prep_data provides nodes.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_flowpath_ends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get flowpath beginning and ends — nsink_get_flowpath_ends","text":"sf object portions flowpath         represented NHDPlus flowlines","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_huc_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","title":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","text":"function takes HUC Name returns matching HUC 12 IDs.  default behavior select possible matching IDs without matching case string.  exact match required, use  exact argument.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_huc_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","text":"","code":"nsink_get_huc_id(huc_name, exact = FALSE)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_huc_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","text":"huc_name Character string HUC Name partial HUC name exact Logical indicating whether exact match","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_huc_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","text":"data frame HUC_12 HU_12_NAME match huc_name","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_huc_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Look up HUC 12 ID from a HUC name — nsink_get_huc_id","text":"","code":"nsink_get_huc_id(huc_name = \"Niantic River\") #> # A tibble: 1 × 3 #>   huc_12       huc_12_name   state #>   <chr>        <chr>         <chr> #> 1 011000030304 Niantic River CT"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_plus_remotepath.html","id":null,"dir":"Reference","previous_headings":"","what":"Get remote path for NHDPlus components — nsink_get_plus_remotepath","title":"Get remote path for NHDPlus components — nsink_get_plus_remotepath","text":"Code modified https://github.com/jsta/nhdR/blob/master/R/utils.R.  Still need figure best way acknowledge jsta author include GPL","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_plus_remotepath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get remote path for NHDPlus components — nsink_get_plus_remotepath","text":"","code":"nsink_get_plus_remotepath(   rpu,   component = c(\"NHDSnapshot\", \"FdrFac\", \"EROMExtension\", \"WBDSnapshot\",     \"NHDPlusAttributes\") )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_get_plus_remotepath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get remote path for NHDPlus components — nsink_get_plus_remotepath","text":"rpu raster processing unit NHDPlus. available nsink:::wbd_lookup component component download","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_group_land_off_network.html","id":null,"dir":"Reference","previous_headings":"","what":"nsink group land off network — nsink_group_land_off_network","title":"nsink group land off network — nsink_group_land_off_network","text":"nsink group land network","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_group_land_off_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"nsink group land off network — nsink_group_land_off_network","text":"","code":"nsink_group_land_off_network(land_removal_df)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_group_land_off_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"nsink group land off network — nsink_group_land_off_network","text":"land_removal_df Land network summary df","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_load.html","id":null,"dir":"Reference","previous_headings":"","what":"Load an existing N-Sink analysis folder — nsink_load","title":"Load an existing N-Sink analysis folder — nsink_load","text":"Load existing N-Sink analysis folder","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_load.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load an existing N-Sink analysis folder — nsink_load","text":"","code":"nsink_load(input_folder, base_name = \"nsink_\", projection = NULL, ...)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_load.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load an existing N-Sink analysis folder — nsink_load","text":"input_folder Folder contains nsink files produced nsink_build base_name base name used assign objects global environment. projection optional CRS specified either EPSG code (numeric) WKT (string). Useful projection returned unknown. ... Passes nsink_calc_removal network arguments: off_network_lakes, off_network_streams, off_network_canalsditches.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_load.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load an existing N-Sink analysis folder — nsink_load","text":"Creates several lists global environment normally         created running N-Sink analysis.  include:         nsink_prep_data object,         nsink_calc_removal object, nsink_generate_static_maps object","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_load.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load an existing N-Sink analysis folder — nsink_load","text":"","code":"if (FALSE) { library(nsink)  aea <- 5072 nsink_build(nsink_get_huc_id(\"Niantic River\")$huc_12, aea,             output_folder = \"nsink_output\", samp_dens = 300) nsink_load(input_folder = \"nsink_output\",            base_name = \"nsink_\") }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_merge_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Merges removal rasters into single raster — nsink_merge_removal","title":"Merges removal rasters into single raster — nsink_merge_removal","text":"Merges removal rasters single raster","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_merge_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merges removal rasters into single raster — nsink_merge_removal","text":"","code":"nsink_merge_removal(removal_rasters)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_merge_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merges removal rasters into single raster — nsink_merge_removal","text":"removal_rasters named list \"land_removal\", \"stream_removal\", \"lake_removal\", \"raster_template\" rasters plus sf object \"huc\".","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_merge_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merges removal rasters into single raster — nsink_merge_removal","text":"Raster landscape nitrogen removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"N-Sink plot function for the a list of nsink static maps — nsink_plot","title":"N-Sink plot function for the a list of nsink static maps — nsink_plot","text":"function creates simple plot pre-selected color palettes list static maps created nsink_generate_static_maps. meant quick means visualize various static maps.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"N-Sink plot function for the a list of nsink static maps — nsink_plot","text":"","code":"nsink_plot(static_maps, map = c(\"removal\", \"transport\", \"delivery\"))"},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"N-Sink plot function for the a list of nsink static maps — nsink_plot","text":"static_maps list raster objects can created via nsink_generate_static_maps.  list removal_effic, delivery_idx, transport_idx. map character either, \"removal\", \"transport\", \"delivery.\"","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"N-Sink plot function for the a list of nsink static maps — nsink_plot","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_data <- nsink_get_data(niantic_huc, data_dir = \"nsink_data\") aea <- 5072 niantic_nsink_data <- nsink_prep_data(niantic_huc, projection = aea,                                       data_dir = \"nsink_data\") removal <- nsink_calc_removal(niantic_nsink_data) static_maps <- nsink_generate_static_maps(niantic_nsink_data, removal, samp_dens = 900) nsink_plot(static_maps, \"transport\") }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_delivery.html","id":null,"dir":"Reference","previous_headings":"","what":"N-Sink plot function for the nitrogen delivery index — nsink_plot_delivery","title":"N-Sink plot function for the nitrogen delivery index — nsink_plot_delivery","text":"function creates simple plot pre-selected color palette, although different breaks colors can provided user.  meant quick means visualize delivery index.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_delivery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"N-Sink plot function for the nitrogen delivery index — nsink_plot_delivery","text":"","code":"nsink_plot_delivery(   delivery_idx,   breaks = c(20, 40, 60, 80, 100),   colors = c(\"#FFBEBE\", \"#F57A7A\", \"#A80405\", \"#652600\") )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_delivery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"N-Sink plot function for the nitrogen delivery index — nsink_plot_delivery","text":"delivery_idx delivery index raster can created via nsink_generate_static_maps. breaks vector values specifying breakpoints break delivery raster.  Must one number colors. colors vector hexcodes colors","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"N-Sink plot function for removal efficiency — nsink_plot_removal","title":"N-Sink plot function for removal efficiency — nsink_plot_removal","text":"function creates simple plot pre-selected color palette, although different breaks colors can provided user.  meant quick means visualize removal efficiency.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"N-Sink plot function for removal efficiency — nsink_plot_removal","text":"","code":"nsink_plot_removal(   removal_effic,   breaks = c(0.2, 0.4, 0.6, 0.8),   colors = c(\"#D3FFBE\", \"#70A800\", \"#267300\") )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"N-Sink plot function for removal efficiency — nsink_plot_removal","text":"removal_effic removal efficiency raster can created via nsink_generate_static_maps. breaks vector values specifying breakpoints break removal raster.  Must one number colors. colors vector hexcodes colors","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_transport.html","id":null,"dir":"Reference","previous_headings":"","what":"N-Sink plot function for the nitrogen transport index — nsink_plot_transport","title":"N-Sink plot function for the nitrogen transport index — nsink_plot_transport","text":"function creates simple plot pre-selected color palette, although different breaks colors can provided user.  meant quick means visualize removal efficiency.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_transport.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"N-Sink plot function for the nitrogen transport index — nsink_plot_transport","text":"","code":"nsink_plot_transport(   transport_idx,   breaks = c(0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100),   colors = c(\"#38A1D0\", \"#7AB4C0\", \"#A2C8B0\", \"#C3DC9D\", \"#E2F088\", \"#F5E871\",     \"#F9C159\", \"#F99844\", \"#F56A2E\", \"#EF2820\") )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_plot_transport.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"N-Sink plot function for the nitrogen transport index — nsink_plot_transport","text":"transport_idx transport index raster can created via nsink_generate_static_maps. breaks vector values specifying breakpoints break transport raster.  Must one number colors. colors vector hexcodes colors","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepares N-Sink data for a given HUC — nsink_prep_data","title":"Prepares N-Sink data for a given HUC — nsink_prep_data","text":"addition local access required dataset, datasets need preparation.  function standardizes projections extents clips datasets boundary specified HUC. Additionally, tabular datasets (e.g. flow, time travel, etc.) included output well.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepares N-Sink data for a given HUC — nsink_prep_data","text":"","code":"nsink_prep_data(   huc,   projection,   data_dir = normalizePath(\"nsink_data/\", winslash = \"/\"),   year = \"2016\" )"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepares N-Sink data for a given HUC — nsink_prep_data","text":"huc character string HUC12 ID.  Use nsink_get_huc_id look ID name. projection CRS use, passed ethier EPSG code (numeric) WKT (character). must projected CRS geographic many measurements required nsink analysis require reliable length area measurments. data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function. year year nlcd impervious data retrieved FedData's, get_nlcd function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepares N-Sink data for a given HUC — nsink_prep_data","text":"returns list sf, raster, tabular objects         required datasets plus huc.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepares N-Sink data for a given HUC — nsink_prep_data","text":"","code":"if (FALSE) { library(nsink) aea <- 5072 niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_nsink_data <- nsink_prep_data(huc = niantic_huc, projection = aea, data_dir = \"nsink_data\") # Example using EPSG code for projection epsg <- 3748L niantic_nsink_data <- nsink_prep_data(huc = niantic_huc, projection = epsg,                 data_dir = \"nsink_data\") }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_fdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare flow direction data for N-Sink — nsink_prep_fdr","title":"Prepare flow direction data for N-Sink — nsink_prep_fdr","text":"Standardizes flow direction data transforming data, clipping HUC.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_fdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare flow direction data for N-Sink — nsink_prep_fdr","text":"","code":"nsink_prep_fdr(huc_sf, huc_raster, data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_fdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare flow direction data for N-Sink — nsink_prep_fdr","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 huc_raster raster object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_fdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare flow direction data for N-Sink — nsink_prep_fdr","text":"raster object flow direction huc_sf         original fdr projection","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_impervious.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare impervious cover data for N-Sink — nsink_prep_impervious","title":"Prepare impervious cover data for N-Sink — nsink_prep_impervious","text":"Standardizes impervious data projecting coorect CRS, standardizing file name.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_impervious.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare impervious cover data for N-Sink — nsink_prep_impervious","text":"","code":"nsink_prep_impervious(huc_sf, huc_raster, data_dir, year)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_impervious.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare impervious cover data for N-Sink — nsink_prep_impervious","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 huc_raster raster object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function. year year nlcd impervious data retrieved FedData's, get_nlcd function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_impervious.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare impervious cover data for N-Sink — nsink_prep_impervious","text":"raster object impervious cover huc_sf","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakemorpho.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare lake morphology data for N-Sink — nsink_prep_lakemorpho","title":"Prepare lake morphology data for N-Sink — nsink_prep_lakemorpho","text":"Standardizes lake morphology lake morphology tables.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakemorpho.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare lake morphology data for N-Sink — nsink_prep_lakemorpho","text":"","code":"nsink_prep_lakemorpho(data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakemorpho.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare lake morphology data for N-Sink — nsink_prep_lakemorpho","text":"data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakemorpho.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare lake morphology data for N-Sink — nsink_prep_lakemorpho","text":"tibble lake morphology data","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakes.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare lakes data for N-Sink — nsink_prep_lakes","title":"Prepare lakes data for N-Sink — nsink_prep_lakes","text":"Standardizes lakes data transforming data, clipping HUC, renaming columns.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare lakes data for N-Sink — nsink_prep_lakes","text":"","code":"nsink_prep_lakes(huc_sf, data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare lakes data for N-Sink — nsink_prep_lakes","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_lakes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare lakes data for N-Sink — nsink_prep_lakes","text":"sf object NHDPlus lakes huc_sf","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_nlcd.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare NLCD data for N-Sink — nsink_prep_nlcd","title":"Prepare NLCD data for N-Sink — nsink_prep_nlcd","text":"Standardizes NLCD data projecting coorect CRS, standardizing file name.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_nlcd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare NLCD data for N-Sink — nsink_prep_nlcd","text":"","code":"nsink_prep_nlcd(huc_sf, huc_raster, data_dir, year)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_nlcd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare NLCD data for N-Sink — nsink_prep_nlcd","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 huc_raster raster object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function. year year nlcd impervious data retrieved FedData's, get_nlcd function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_nlcd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare NLCD data for N-Sink — nsink_prep_nlcd","text":"raster object NLCD huc_sf","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_q.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare flow data for N-Sink — nsink_prep_q","title":"Prepare flow data for N-Sink — nsink_prep_q","text":"Standardizes flow data EROM tables.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_q.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare flow data for N-Sink — nsink_prep_q","text":"","code":"nsink_prep_q(data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_q.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare flow data for N-Sink — nsink_prep_q","text":"data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_q.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare flow data for N-Sink — nsink_prep_q","text":"tibble flow data","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_ssurgo.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare SSURGO data for N-Sink — nsink_prep_ssurgo","title":"Prepare SSURGO data for N-Sink — nsink_prep_ssurgo","text":"Standardizes impervious data transforming data, reducing columns needed.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_ssurgo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare SSURGO data for N-Sink — nsink_prep_ssurgo","text":"","code":"nsink_prep_ssurgo(huc_sf, data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_ssurgo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare SSURGO data for N-Sink — nsink_prep_ssurgo","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_ssurgo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare SSURGO data for N-Sink — nsink_prep_ssurgo","text":"sf object SSURGO data huc_sf hydric data added.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_streams.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare streams data for N-Sink — nsink_prep_streams","title":"Prepare streams data for N-Sink — nsink_prep_streams","text":"Standardizes streams data transforming data, clipping HUC, ...","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_streams.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare streams data for N-Sink — nsink_prep_streams","text":"","code":"nsink_prep_streams(huc_sf, data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_streams.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare streams data for N-Sink — nsink_prep_streams","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_streams.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare streams data for N-Sink — nsink_prep_streams","text":"returns sf object NHDPlus streams huc_sf","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_tot.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare time of travel data for N-Sink — nsink_prep_tot","title":"Prepare time of travel data for N-Sink — nsink_prep_tot","text":"Standardizes time travel NHDPlus VAA tables.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_tot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare time of travel data for N-Sink — nsink_prep_tot","text":"","code":"nsink_prep_tot(data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_tot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare time of travel data for N-Sink — nsink_prep_tot","text":"data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_prep_tot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare time of travel data for N-Sink — nsink_prep_tot","text":"tibble time travel data","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_remove_openwater.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove open water portions of the HUC — nsink_remove_openwater","title":"Remove open water portions of the HUC — nsink_remove_openwater","text":"Uses SSURGO polys SSURGO musym = Ws check remove portion HUC actually salt water.  account coastal HUCs large areas open water.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_remove_openwater.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove open water portions of the HUC — nsink_remove_openwater","text":"","code":"nsink_remove_openwater(huc_sf, data_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_remove_openwater.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove open water portions of the HUC — nsink_remove_openwater","text":"huc_sf sf object Watershed Boundaries Dataset HUC12 data_dir Base directory contains N-Sink data folders.  Data may downloaded nsink_get_data function.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_remove_openwater.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove open water portions of the HUC — nsink_remove_openwater","text":"sf object HUC without salt water/open water area.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_run_7z.html","id":null,"dir":"Reference","previous_headings":"","what":"Finds 7-zip — nsink_run_7z","title":"Finds 7-zip — nsink_run_7z","text":"code modified https://github.com/jsta/nhdR/blob/master/R/utils.R https://github.com/jsta/nhdR/blob/master/R/get.R determine 7 zip available.  available unzips 7z zipfile destination directory. avoids needing use archive package available via GitHub.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_run_7z.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Finds 7-zip — nsink_run_7z","text":"","code":"nsink_run_7z(zipfile, destdir, extract_again = FALSE)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_run_7z.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Finds 7-zip — nsink_run_7z","text":"zipfile zipfile extracted destdir put extracted files force Whether extract destination files already exist","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_run_7z.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Finds 7-zip — nsink_run_7z","text":"Joseph Stachelek, stachel2@msu.edu","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_split_flowline.html","id":null,"dir":"Reference","previous_headings":"","what":"Split flowlines where they intersect with a flowpath — nsink_split_flowline","title":"Split flowlines where they intersect with a flowpath — nsink_split_flowline","text":"Takes flowpath input","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_split_flowline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split flowlines where they intersect with a flowpath — nsink_split_flowline","text":"","code":"nsink_split_flowline(flowpath_ends, flowpath_network)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_split_flowline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split flowlines where they intersect with a flowpath — nsink_split_flowline","text":"flowpath_ends ends flowpath part network flowpath_network flowpath network","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_split_flowline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split flowlines where they intersect with a flowpath — nsink_split_flowline","text":"sf object NHDPlus flowlines split fp ends         intersect flowlines.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_summarize_flowpath.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","title":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","text":"Nitrogen removal varies along flowpath may include different land cover waterbody types different nitrogen reduction capabilities. function requires flowpath generated nsink_generate_flowpath input returns estimate total flow path removal well removal type.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_summarize_flowpath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","text":"","code":"nsink_summarize_flowpath(flowpath, removal)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_summarize_flowpath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","text":"flowpath flowpath summarize nitrogen removal removal removal raster stack removal list, generated nsink_calc_removal","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_summarize_flowpath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","text":"data frame returned summary nitrogen removal.  ","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_summarize_flowpath.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize nitrogen removal along a flowpath — nsink_summarize_flowpath","text":"","code":"if (FALSE) { library(nsink) niantic_huc <- nsink_get_huc_id(\"Niantic River\")$huc_12 niantic_data <- nsink_get_data(niantic_huc, data_dir = \"nsink_data\") aea <- 5072 niantic_nsink_data <- nsink_prep_data(niantic_huc, projection = aea,                                       data_dir = \"nsink_data\") removal <- nsink_calc_removal(niantic_nsink_data) pt <- c(1948121, 2295822) start_loc <- st_sf(st_sfc(st_point(c(pt)), crs = aea)) fp <- nsink_generate_flowpath(start_loc, niantic_nsink_data) flow_summary <- nsink_summarize_flowpath(fp, removal) flow_summary }"},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_prepped_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Write prepped data to files — nsink_write_prepped_data","title":"Write prepped data to files — nsink_write_prepped_data","text":"Writes data either shapefiles, vector data, tiffs raster data.","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_prepped_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write prepped data to files — nsink_write_prepped_data","text":"","code":"nsink_write_prepped_data(prepped_data, output_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_prepped_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write prepped data to files — nsink_write_prepped_data","text":"prepped_data list prepped data, output nsink_prep_data output_dir Output folder save processed nsink files ","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_static_maps.html","id":null,"dir":"Reference","previous_headings":"","what":"Write static maps to files — nsink_write_static_maps","title":"Write static maps to files — nsink_write_static_maps","text":"Writes static maps tiffs","code":""},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_static_maps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write static maps to files — nsink_write_static_maps","text":"","code":"nsink_write_static_maps(static_maps, output_dir)"},{"path":"https://jhollist.github.io/nsink/reference/nsink_write_static_maps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write static maps to files — nsink_write_static_maps","text":"static_maps list static maps, output nsink_generate_static_maps output_dir Output folder save .tif static maps ","code":""}]
