<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summary • nsink</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Summary"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">nsink</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/intro.html">Introduction to `nsink`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USEPA/nsink/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Summary</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/nsink/blob/HEAD/paper.md" class="external-link"><code>paper.md</code></a></small>
    </div>


<div id="summary" class="section level1"><p>The <code>nsink</code> package estimates cumulative nitrogen (N) removal along a specified flow path and is based on methodologies outlined in Kellogg et al. [ -@kellogg2010geospatial]. For a user-specified watershed (i.e., hydrologic unit code (HUC)), <code>nsink</code> downloads all required datasets from public datasets in the United States, prepares data for use, summarizes N removal along a flow path and creates several static maps. The results of an <code>nsink</code> analysis may be exported to standard geospatial files for use in other applications.</p></div>
<div class="section level1">
<h1 id="statement-of-need">Statement of need<a class="anchor" aria-label="anchor" href="#statement-of-need"></a></h1>
<p>Excess N delivery via surface water to downstream aquatic resources contributes to impaired water quality and impacts ecosystem services including harmful algal blooms (HABs) and hypoxia [@rabalais2002beyond]. Identifying landscape N sinks (i.e., areas where N is effectively removed from the aquatic system) and analyzing N delivery at the watershed scale is helpful to watershed managers, land use planners and conservation organizations. The theoretical underpinnings for identifying N sinks rely on decades of research and are explained in Kellogg et al. [-@kellogg2010geospatial].</p>
<p>Prior N-sink implementations were done case-by-case. Data acquisition and manipulation were mostly manual and took weeks to months to complete for a single 12-digit HUC. The effort required for the analysis limited it’s application as scaling beyond a few pilot studies was not feasible. The goal of <code>nsink</code> was to address this limitation and provide an open source solution that could be run on a single small watershed (e.g., 12-digit HUC) in minutes to hours with minimal manual input.</p>
</div>
<div class="section level1">
<h1 id="the-nsink-package">The <code>nsink</code> package<a class="anchor" aria-label="anchor" href="#the-nsink-package"></a></h1>
<div class="section level2">
<h2 id="package-installation">Package Installation<a class="anchor" aria-label="anchor" href="#package-installation"></a></h2>
<p>The <code>nsink</code> package is available from <a href="https://github.com/usepa/nsink" class="external-link uri">https://github.com/usepa/nsink</a> and may be installed in R with the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If not installed, install remotes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install nsink from GitHub</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"USEPA/nsink"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="package-details">Package Details<a class="anchor" aria-label="anchor" href="#package-details"></a></h2>
<p>The <code>nsink</code> package is designed around the major steps in running an N-Sink analysis and includes functions for the following tasks:</p>
<ol style="list-style-type: decimal"><li>Prepare for analysis<ul><li>Get data</li>
<li>Prepare data for analysis</li>
<li>Calculate relative N removal layer for hydric soils, lakes and streams.</li>
</ul></li>
<li>Run a point-based analysis<ul><li>Calculate a flow path</li>
<li>Summarize relative N removal along a flow path</li>
</ul></li>
<li>Run a HUC-based analysis<ul><li>Develop static maps</li>
<li>Generate output datasets</li>
</ul></li>
</ol><div class="section level3">
<h3 id="required-data">Required Data<a class="anchor" aria-label="anchor" href="#required-data"></a></h3>
<p>The ability to run an <code>nsink</code> analysis relies on several datasets for the conterminous United States. By limiting our approach to these national datasets we are ensuring scalability of <code>nsink</code> because the datasets will be available for most locations in the United States. The datasets that <code>nsink</code> uses are the National Hydrography Dataset Plus version 2 (NHDPlus), Soil Survey Geographic Database (SSURGO), the National Land Cover Dataset (NLCD) land cover, and the National Land Cover Dataset (NLCD) impervious surface [@moore2019user; @soil2017web; @jin2019overall]. These datasets are all available via an Application Programming Interface (API) or via direct download.</p>
</div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h3>
<p>The <code>nsink</code> package depends on several existing R packages to facilitate spatial data handling, data acquisition, data management, data analysis and data processing. These are detailed in Table 1.</p>
<p>Table 1. R package dependencies for the <code>nsink</code> package</p>
<table class="table"><colgroup><col width="36%"><col width="21%"><col width="42%"></colgroup><thead><tr class="header"><th>Package</th>
<th>Task</th>
<th>Citation</th>
</tr></thead><tbody><tr class="odd"><td><code>sf</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@sfpaper; @sf</td>
</tr><tr class="even"><td><code>raster</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@raster</td>
</tr><tr class="odd"><td><code>stars</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@stars</td>
</tr><tr class="even"><td><code>fasterize</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@fasterize</td>
</tr><tr class="odd"><td><code>lwgeom</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@lwgeom</td>
</tr><tr class="even"><td><code>gstat</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@gstatpaper2004; @gstatpaper2016; @gstat</td>
</tr><tr class="odd"><td><code>sp</code></td>
<td>Spatial Data Handling and Analysis</td>
<td>@sppaper; @spbook; @sp</td>
</tr><tr class="even"><td><code>units</code></td>
<td>Unit Transformations</td>
<td>@unitspaper; @units</td>
</tr><tr class="odd"><td><code>FedData</code></td>
<td>Data Acquisition</td>
<td>@feddata</td>
</tr><tr class="even"><td><code>httr</code></td>
<td>Data Acquisition</td>
<td>@httr</td>
</tr><tr class="odd"><td><code>dplyr</code></td>
<td>Data Management and Analysis</td>
<td>@dplyr</td>
</tr><tr class="even"><td><code>zoo</code></td>
<td>Data Management and Analysis</td>
<td>@zoopaper; @zoo</td>
</tr><tr class="odd"><td><code>igraph</code></td>
<td>Data Management and Analysis</td>
<td>@igraphpaper; @igraph</td>
</tr><tr class="even"><td><code>readr</code></td>
<td>Data Management and Analysis</td>
<td>@readr</td>
</tr><tr class="odd"><td><code>foreign</code></td>
<td>Data Management and Analysis</td>
<td>@foreign</td>
</tr><tr class="even"><td><code>rlang</code></td>
<td>Data Management and Analysis</td>
<td>@rlang</td>
</tr><tr class="odd"><td><code>furrr</code></td>
<td>Parallel Processing</td>
<td>@furrr</td>
</tr><tr class="even"><td><code>future</code></td>
<td>Parallel Processing</td>
<td>@futurepaper; @future</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="functionality">Functionality<a class="anchor" aria-label="anchor" href="#functionality"></a></h3>
<p>Currently, <code>nsink</code> provides 10 exported functions to facilitate a flow path analysis of relative N removal. The <code>nsink</code> repository (<a href="https://github.com/usepa/nsink" class="external-link uri">https://github.com/usepa/nsink</a>) and R package documentation contain detailed documentation of each function. The pacakge also has a vignette that outlines a typical workflow for running an N-Sink analysis with the <code>nsink</code> package. Upon install, the vignette is accessed in R with <code><a href="articles/intro.html">vignette("intro", package = "nsink")</a></code>.</p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a></h1>
<p>Many people have contributed in various ways to the development of the N-Sink concept. In particular, we would like to thank, Chet Arnold, Cary Chadwick, David Dickson, and Emily Wilson of the University of Connecticut’s Center for Land Use Education and Research as well as Peter August, Chris Damon, and Art Gold of the University of Rhode Island’s Department of Natural Resources Science. Both the UCONN and URI crews have contributed tremendously to the development of the N-Sink concept. Additionally, we are grateful to Stephen Shivers, Michael Dumelle, Justin Bousquin, Joe LiVolsi, Tim Gleason, and Wayne Munns for constructive early reviews of this paper. Lastly, Ken Forshay from the US EPA’s Center for Environmental Solutions and Emergency Response deserves our thanks for shepherding the development of N-Sink for many years. The views expressed in this article are those of the authors and do not necessarily represent the views or policies of the U.S. Environmental Protection Agency. Any mention of trade names, products, or services does not imply an endorsement by the U.S. Government or the U.S. Environmental Protection Agency. The EPA does not endorse any commercial products, services, or enterprises. This contribution is identified by the tracking number ORD-044618 of the Atlantic Coastal Environmental Sciences Division, Office of Research and Development, Center for Environmental Measurement and Modeling, US Environmental Protection Agency.</p>
</div>
<div class="section level1"><h1 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h1></div>


  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jeffrey Hollister, Dorothy Kellogg, Qian Lei-Parent, Kenneth Forshay.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

